# –°–µ—Ä–≤–∏—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–µ–ª–µ–π

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–µ–ª—è–º–∏, –∫–æ–º–Ω–∞—Ç–∞–º–∏ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

<img src="/doc/er.png" width="500" alt="ER-–¥–∏–∞–≥—Ä–∞–º–º–∞">

*–†–∏—Å. 1: ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö*

---

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Backend**: Python 3.12, FastAPI
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL
- **ORM**: SQLModel
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT
- **–î–µ–ø–ª–æ–π**: Docker

---

## üóÉ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—É—â–Ω–æ—Å—Ç–∏
| –°—É—â–Ω–æ—Å—Ç—å      | –ü–æ–ª—è                                                                 | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|---------------|----------------------------------------------------------------------|------------------------------|
| **User**      | user_id (PK), email, password, name                                 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã         |
| **Hotel**     | id (PK), name, location, rating, price_per_night, distance_from_center | –û—Ç–µ–ª–∏                        |
| **Room**      | id (PK), capacity, price_per_night, hotel (FK ‚Üí Hotel)              | –ù–æ–º–µ—Ä–∞ –æ—Ç–µ–ª–µ–π                |
| **Booking**   | id (PK), check_in, check_out, user_id (FK ‚Üí User), room_id (FK ‚Üí Room) | –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è                |


---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫:

---

## üì° API-–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å               | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|-------|--------------------|-------------------------------|
| POST  | `/v1/auth/login`   | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É                |
| POST  | `/v1/auth/register`| –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### –û—Ç–µ–ª–∏
| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                   | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|-------|------------------------|-------------------------------|
| POST  | `/v1/hotels/`          | –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–µ–ª—å (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è) |
| GET   | `/v1/hotels/`          | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç–µ–ª–µ–π            |
| GET   | `/v1/hotels/{hotel_id}`| –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–µ–ª—å –ø–æ ID          |
| PATCH | `/v1/hotels/{hotel_id}`| –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç–µ–ª—è         |
| DELETE| `/v1/hotels/{hotel_id}`| –£–¥–∞–ª–∏—Ç—å –æ—Ç–µ–ª—å                 |
| POST  | `/v1/hotels/recommendations` | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Ç–µ–ª–µ–π (–≤–µ—Å–∞: —Ü–µ–Ω–∞, —Ä–µ–π—Ç–∏–Ω–≥, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ) |

### –ö–æ–º–Ω–∞—Ç—ã
| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                           | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|-------|--------------------------------|-------------------------------|
| POST  | `/v1/rooms/`                   | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä                |
| GET   | `/v1/rooms/{room_id}`          | –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–º–µ—Ä –ø–æ ID          |
| PATCH | `/v1/rooms/{room_id}`          | –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞        |
| DELETE| `/v1/rooms/{room_id}`          | –£–¥–∞–ª–∏—Ç—å –Ω–æ–º–µ—Ä                 |

### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                   | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|-------|------------------------|-------------------------------|
| POST  | `/v1/bookings/`        | –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ          |
| GET   | `/v1/bookings/{booking_id}` | –ü–æ–ª—É—á–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ ID |
| PATCH | `/v1/bookings/{booking_id}` | –û–±–Ω–æ–≤–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ      |
| DELETE| `/v1/bookings/{booking_id}` | –£–¥–∞–ª–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ      |

---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–µ–ª—è
```http
POST /v1/hotels/
Authorization: Bearer eyJhbGci...
Content-Type: application/json

{
  "name": "Grand Hotel",
  "location": "Paris",
  "rating": 4.8,
  "price_per_night": 300.0,
  "distance_from_center": 1.2
}
```

##  –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1) –°–∫–∞—á–∞—Ç—å PyCharm Community Edition
2) –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Project From Version Control
3) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker (https://docs.docker.com/desktop/setup/install/windows-install/)
4) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Postman (–ù—É–∂–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Web-—Å–µ—Ä–≤–∏—Å—É). (https://www.postman.com/downloads/)
–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –ª–µ–∂–∞—Ç –≤ –ø–∞–ø–∫–µ doc, —ç—Ç–æ—Ç —Ñ–∞–π–ª –Ω—É–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Postman

–î–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ–Ω—Å–æ–ª–∏ PyCharm:
docker-compose up --build

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç –æ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–¥–∞:
pip install pylint

pylint app > pylint.txt

–ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞:
1) –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –æ—Ç–µ–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π (—Ü–µ–Ω–∞, —Ä–µ–π—Ç–∏–Ω–≥, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞).
2) –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Å–∞ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, price_weight=0.5, rating_weight=0.3, distance_weight=0.2).
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–µ–ª—è –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ —Ñ–æ—Ä–º—É–ª–µ:
```
score = (price_weight * –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è_—Ü–µ–Ω–∞) + 
        (rating_weight * —Ä–µ–π—Ç–∏–Ω–≥) + 
        (distance_weight * –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ_—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
```
3) –û—Ç–µ–ª–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ —É–±—ã–≤–∞–Ω–∏—é score.

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç, —á—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ REST-—Å–µ—Ä–≤–∏—Å–∞
```
create_hotel (POST /v1/hotels)
```
—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è. 
–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±—Ä–∞—Ç–∏–≤—à–∏—Å—å –∫ 
```
/v1/auth/register
```

–ê –ø–æ—Ç–æ–º –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ 
```
/v1/auth/login
```
–í –æ—Ç–≤–µ—Ç–µ –≤–µ—Ä–Ω–µ—Ç—Å—è —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è
```
create_hotel (POST /v1/hotels)
```

–í Postman –≤—ã–±–∏—Ä–∞–µ–º Headers -> KEY Authorization -> Value:
```
Bearer <–¢—É—Ç —É–∫–∞–∑–∞—Ç—å —Ç–æ–∫–µ–Ω>
```